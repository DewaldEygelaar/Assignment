Building DAG of jobs...
Provided cores: 12
Rules claiming more threads will be scaled down.
Job counts:
	count	jobs
	1	all
	2	fastqc
	2	merge_fastq
	2	metrics
	2	minimap2
	1	pdf
	2	samtools
	2	samtools_sort
	2	trim_pairs
	16

Job 4: Trimming data/trimmed/HyperPrep_R1.trim.fastq and data/trimmed/HyperPrep_R2.trim.fastq as a pair.


rule pdf:
    output: PDF/Report.pdf
    jobid: 3

Job 2: Trimming data/trimmed/HyperPlus_R1.trim.fastq and data/trimmed/HyperPlus_R2.trim.fastq as a pair.

Finished job 3.
1 of 16 steps (6%) done
Removing temporary output file data/trimmed/HyperPrep_R2.trim.fastq.
Removing temporary output file data/trimmed/HyperPrep_R1.trim.fastq.
Finished job 4.
2 of 16 steps (12%) done
Removing temporary output file data/trimmed/HyperPlus_R2.trim.fastq.
Removing temporary output file data/trimmed/HyperPlus_R1.trim.fastq.
Finished job 2.
3 of 16 steps (19%) done

rule merge_fastq:
    input: data/trimmed/HyperPrep_R1.trim.final.fastq, data/trimmed/HyperPrep_R2.trim.final.fastq
    output: data/samples/combined/combined_HyperPrep.fastq
    jobid: 10
    wildcards: sample=HyperPrep


rule merge_fastq:
    input: data/trimmed/HyperPlus_R1.trim.final.fastq, data/trimmed/HyperPlus_R2.trim.final.fastq
    output: data/samples/combined/combined_HyperPlus.fastq
    jobid: 6
    wildcards: sample=HyperPlus

Finished job 6.
4 of 16 steps (25%) done

rule minimap2:
    input: data/Ecoli.fa, data/samples/combined/combined_HyperPlus.fastq
    output: data/samples/combined/combined_HyperPlus.sam
    jobid: 11
    wildcards: sample=HyperPlus


rule fastqc:
    input: data/samples/combined/combined_HyperPlus.fastq
    output: fastQC/combined_HyperPlus_fastqc.zip
    jobid: 8
    wildcards: sample=HyperPlus

Finished job 10.
5 of 16 steps (31%) done

rule fastqc:
    input: data/samples/combined/combined_HyperPrep.fastq
    output: fastQC/combined_HyperPrep_fastqc.zip
    jobid: 7
    wildcards: sample=HyperPrep


rule minimap2:
    input: data/Ecoli.fa, data/samples/combined/combined_HyperPrep.fastq
    output: data/samples/combined/combined_HyperPrep.sam
    jobid: 18
    wildcards: sample=HyperPrep

Finished job 11.
6 of 16 steps (38%) done

rule samtools:
    input: data/samples/combined/combined_HyperPlus.sam
    output: data/mapped_reads/combined_HyperPlus.bam
    jobid: 19
    wildcards: sample=HyperPlus

Finished job 18.
7 of 16 steps (44%) done

rule samtools:
    input: data/samples/combined/combined_HyperPrep.sam
    output: data/mapped_reads/combined_HyperPrep.bam
    jobid: 20
    wildcards: sample=HyperPrep

Finished job 8.
8 of 16 steps (50%) done
Finished job 19.
9 of 16 steps (56%) done

rule samtools_sort:
    input: data/mapped_reads/combined_HyperPlus.bam
    output: data/sorted_reads/combined_HyperPlus.bam
    jobid: 12
    wildcards: sample=HyperPlus

Finished job 7.
10 of 16 steps (62%) done
Finished job 12.
11 of 16 steps (69%) done

rule metrics:
    input: data/sorted_reads/combined_HyperPlus.bam, data/samples/combined/combined_HyperPlus.sam
    output: metrics/HyperPlus.bam.csv
    jobid: 1
    wildcards: sample=HyperPlus

Finished job 20.
12 of 16 steps (75%) done

rule samtools_sort:
    input: data/mapped_reads/combined_HyperPrep.bam
    output: data/sorted_reads/combined_HyperPrep.bam
    jobid: 17
    wildcards: sample=HyperPrep

Finished job 17.
13 of 16 steps (81%) done

rule metrics:
    input: data/sorted_reads/combined_HyperPrep.bam, data/samples/combined/combined_HyperPrep.sam
    output: metrics/HyperPrep.bam.csv
    jobid: 9
    wildcards: sample=HyperPrep

Finished job 1.
14 of 16 steps (88%) done
Finished job 9.
15 of 16 steps (94%) done

localrule all:
    input: fastQC/combined_HyperPlus_fastqc.zip, fastQC/combined_HyperPrep_fastqc.zip, data/samples/combined/combined_HyperPlus.fastq, data/samples/combined/combined_HyperPrep.fastq, metrics/HyperPlus.bam.csv, metrics/HyperPrep.bam.csv, data/trimmed/HyperPlus_R1.trim.final.fastq, data/trimmed/HyperPrep_R1.trim.final.fastq, data/trimmed/HyperPlus_R2.trim.final.fastq, data/trimmed/HyperPrep_R2.trim.final.fastq, data/trimmed/HyperPlus_R1.trim.unpaired.fastq, data/trimmed/HyperPrep_R1.trim.unpaired.fastq, data/trimmed/HyperPlus_R2.trim.unpaired.fastq, data/trimmed/HyperPrep_R2.trim.unpaired.fastq, plots/cov.png, plots/mapped.png, plots/depth.png, plots/align.png, PDF/Report.pdf
    jobid: 0

Finished job 0.
16 of 16 steps (100%) done
